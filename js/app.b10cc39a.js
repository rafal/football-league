(function(e){function t(t){for(var n,c,s=t[0],l=t[1],i=t[2],u=0,m=[];u<s.length;u++)c=s[u],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&m.push(o[c][0]),o[c]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);h&&h(t);while(m.length)m.shift()();return r.push.apply(r,i||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,c=1;c<a.length;c++){var s=a[c];0!==o[s]&&(n=!1)}n&&(r.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},c={app:0},o={app:0},r=[];function s(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-04913fa1":"1750f1b5","chunk-51e4be90":"99522db1"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a={"chunk-04913fa1":1,"chunk-51e4be90":1};c[e]?t.push(c[e]):0!==c[e]&&a[e]&&t.push(c[e]=new Promise((function(t,a){for(var n="css/"+({}[e]||e)+"."+{"chunk-04913fa1":"3bf80f6e","chunk-51e4be90":"01106363"}[e]+".css",o=l.p+n,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var i=r[s],u=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(u===n||u===o))return t()}var m=document.getElementsByTagName("style");for(s=0;s<m.length;s++){i=m[s],u=i.getAttribute("data-href");if(u===n||u===o)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var n=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=n,delete c[e],h.parentNode.removeChild(h),a(r)},h.href=o;var b=document.getElementsByTagName("head")[0];b.appendChild(h)})).then((function(){c[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,a){n=o[e]=[t,a]}));t.push(n[2]=r);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=s(e);var m=new Error;i=function(t){u.onerror=u.onload=null,clearTimeout(h);var a=o[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+n+": "+c+")",m.name="ChunkLoadError",m.type=n,m.request=c,a[1](m)}o[e]=void 0}};var h=setTimeout((function(){i({type:"timeout",target:u})}),12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/football-league/",l.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var m=0;m<i.length;m++)t(i[m]);var h=u;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1185:function(e,t,a){},5525:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("7a23");const c={class:"content"};function o(e,t,a,o,r,s){const l=Object(n["z"])("PageHeader"),i=Object(n["z"])("router-view"),u=Object(n["z"])("PageFooter");return Object(n["s"])(),Object(n["e"])(n["a"],null,[Object(n["h"])(l),Object(n["f"])("main",c,[Object(n["f"])("h1",null,Object(n["B"])(e.$route.meta.title),1),Object(n["h"])(i)]),Object(n["h"])(u)],64)}const r=e=>(Object(n["v"])("data-v-6c6a3cb1"),e=e(),Object(n["t"])(),e),s={class:"page-header"},l=r(()=>Object(n["f"])("img",{src:"/images/logo.svg",alt:"Page Logo",class:"logo"},null,-1)),i={class:"nav-links"},u=r(()=>Object(n["f"])("img",{src:"/images/schedule.png",alt:"Schedule",class:"nav-link-image"},null,-1)),m=r(()=>Object(n["f"])("img",{src:"/images/leaderboard.png",alt:"Leaderboard",class:"nav-link-image"},null,-1));function h(e,t,a,c,o,r){const h=Object(n["z"])("router-link");return Object(n["s"])(),Object(n["e"])("header",s,[Object(n["h"])(h,{to:"/",class:"logo-link"},{default:Object(n["F"])(()=>[l]),_:1}),Object(n["f"])("nav",i,[Object(n["h"])(h,{to:"/schedule",class:"nav-link"},{default:Object(n["F"])(()=>[u,Object(n["g"])("Schedule ")]),_:1}),Object(n["h"])(h,{to:"/leaderboard",class:"nav-link"},{default:Object(n["F"])(()=>[m,Object(n["g"])("Leaderboard ")]),_:1})])])}var b={name:"PageHeader"},d=(a("c107"),a("6b0d")),f=a.n(d);const g=f()(b,[["render",h],["__scopeId","data-v-6c6a3cb1"]]);var j=g;const O={class:"page-footer"};function p(e,t,a,c,o,r){return Object(n["s"])(),Object(n["e"])("footer",O,"API Version: "+Object(n["B"])(o.apiVersion),1)}var v={name:"PageFooter",data(){return{apiVersion:""}},async mounted(){try{const e=await fetch("http://localhost:3001/api/version"),t=await e.json();t.success&&(this.apiVersion=t.version)}catch(e){console.error("Failed to fetch API version:",e)}}};a("5fc3");const y=f()(v,[["render",p],["__scopeId","data-v-4822fd70"]]);var w=y,T=a("4143"),S=a("d5e4"),k=a("34d8"),P=a("5364"),A=a("9bd1"),F=new WeakMap,_=new WeakSet,D=new WeakSet,L=new WeakSet,M=new WeakSet;class B{constructor(){Object(T["a"])(this,M),Object(T["a"])(this,L),Object(T["a"])(this,D),Object(T["a"])(this,_),Object(S["a"])(this,F,{writable:!0,value:[]})}setMatches(e){Object(A["a"])(this,F,e)}getMatches(){return Object(P["a"])(this,F)}getLeaderboard(){const e=Object(k["a"])(this,_,E).call(this);return e}async fetchData(){const e=await Object(k["a"])(this,L,N).call(this);await Object(k["a"])(this,M,C).call(this,e)}}function E(){const e={};return Object(P["a"])(this,F).forEach(t=>{e[t.homeTeam]||(e[t.homeTeam]={teamName:t.homeTeam,matchesPlayed:0,goalsFor:0,goalsAgainst:0,points:0}),e[t.awayTeam]||(e[t.awayTeam]={teamName:t.awayTeam,matchesPlayed:0,goalsFor:0,goalsAgainst:0,points:0}),e[t.homeTeam].matchesPlayed++,e[t.awayTeam].matchesPlayed++,e[t.homeTeam].goalsFor+=t.homeTeamScore,e[t.awayTeam].goalsFor+=t.awayTeamScore,e[t.homeTeam].goalsAgainst+=t.awayTeamScore,e[t.awayTeam].goalsAgainst+=t.homeTeamScore,t.matchPlayed&&(t.homeTeamScore>t.awayTeamScore?e[t.homeTeam].points+=3:t.homeTeamScore<t.awayTeamScore?e[t.awayTeam].points+=3:(e[t.homeTeam].points+=1,e[t.awayTeam].points+=1))}),Object.values(e).sort(Object(k["a"])(this,D,H))}function H(e,t){if(e.points!==t.points)return t.points-e.points;const a=e.goalsFor-e.goalsAgainst,n=t.goalsFor-t.goalsAgainst;return a!==n?n-a:e.goalsFor!==t.goalsFor?t.goalsFor-e.goalsFor:e.teamName.localeCompare(t.teamName)}async function N(){const e=await fetch("http://localhost:3001/api/v1/getAccessToken"),t=await e.json();return t.access_token}async function C(e){const t=await fetch("http://localhost:3001/api/v1/getAllMatches",{headers:{Authorization:"Bearer "+e}}),a=await t.json();this.setMatches(a.matches)}var $=B;const x=Object(n["w"])({matches:[],teams:[]}),z=new $;async function I(){await z.fetchData(),x.matches=z.getMatches(),x.teams=z.getLeaderboard()}function W(){return{...Object(n["C"])(x),fetchData:I}}var V={name:"App",components:{PageHeader:j,PageFooter:w},setup(){const e=W();Object(n["u"])("leagueData",e)}};a("9684");const q=f()(V,[["render",o]]);var J=q,K=a("6605");function U(e,t,a,c,o,r){const s=Object(n["z"])("PageScheduleTable");return Object(n["s"])(),Object(n["d"])(s,{matches:o.matches},null,8,["matches"])}const Y=e=>(Object(n["v"])("data-v-2d413504"),e=e(),Object(n["t"])(),e),G={class:"schedule-table"},Q=Y(()=>Object(n["f"])("thead",null,[Object(n["f"])("tr",null,[Object(n["f"])("th",{class:"date-column"},[Object(n["f"])("div",null,"Date/Time")]),Object(n["f"])("th",{class:"left-align stadium-column"},[Object(n["f"])("div",null,"Stadium")]),Object(n["f"])("th",{class:"right-align home-team"},[Object(n["f"])("div",null,"Home Team")]),Object(n["f"])("th",{class:"center-align results-column"}),Object(n["f"])("th",{class:"left-align away-team"},[Object(n["f"])("div",null,"Away Team")])])],-1)),R={class:"date-column"},X=Y(()=>Object(n["f"])("span",{style:{height:"0.25em"}},null,-1)),Z={class:"left-align stadium-column"},ee={class:"right-align home-team"},te=["src"],ae={class:"center-align results-column"},ne={key:0},ce={key:1},oe={class:"left-align away-team"},re=["src"];function se(e,t,a,c,o,r){return Object(n["s"])(),Object(n["e"])("div",G,[Object(n["f"])("table",null,[Q,Object(n["f"])("tbody",null,[(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(a.matches,e=>(Object(n["s"])(),Object(n["e"])("tr",{key:e.matchDate},[Object(n["f"])("td",R,[Object(n["f"])("div",null,[Object(n["f"])("span",Object(n["o"])(Object(n["k"])({innerHTML:r.formatDate(e.matchDate).dateString})),null,16),X,Object(n["f"])("span",Object(n["o"])(Object(n["k"])({innerHTML:r.formatDate(e.matchDate).timeString})),null,16)])]),Object(n["f"])("td",Z,[Object(n["f"])("div",null,Object(n["B"])(e.stadium),1)]),Object(n["f"])("td",ee,[Object(n["f"])("div",null,[Object(n["g"])(Object(n["B"])(e.homeTeam)+" ",1),Object(n["f"])("img",{src:`https://flagsapi.codeaid.io/${e.homeTeam}.png`,alt:"Home Team Flag",class:"team-flag home-team-flag"},null,8,te)])]),Object(n["f"])("td",ae,[Object(n["f"])("div",null,[e.matchPlayed?(Object(n["s"])(),Object(n["e"])("span",ne,Object(n["B"])(e.homeTeamScore)+" : "+Object(n["B"])(e.awayTeamScore),1)):(Object(n["s"])(),Object(n["e"])("span",ce,"- : -"))])]),Object(n["f"])("td",oe,[Object(n["f"])("div",null,[Object(n["f"])("img",{src:`https://flagsapi.codeaid.io/${e.awayTeam}.png`,alt:"Away Team Flag",class:"team-flag away-team-flag"},null,8,re),Object(n["g"])(" "+Object(n["B"])(e.awayTeam),1)])])]))),128))])])])}var le={props:{matches:{type:Array,required:!0}},methods:{formatDate(e){const t=new Date(e),a=t.getDate(),n=t.getMonth()+1,c=t.getFullYear(),o=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0");return{dateString:`${a}.${n}.${c}`,timeString:`${o}:${r}`}}}};a("f68d");const ie=f()(le,[["render",se],["__scopeId","data-v-2d413504"]]);var ue=ie,me={name:"PageSchedule",components:{PageScheduleTable:ue},data(){return{matches:[]}},async created(){const e=Object(n["m"])("leagueData");e.matches.length||await e.fetchData(),this.matches=e.matches}};const he=f()(me,[["render",U]]);var be=he;const de=[{path:"/",name:"Home",component:be,meta:{title:"League Schedule"}},{path:"/schedule",name:"Schedule",component:be,meta:{title:"League Schedule"}},{path:"/leaderboard",name:"Leaderboard",component:()=>a.e("chunk-04913fa1").then(a.bind(null,"cf63")),meta:{title:"League Standings"}},{path:"/:catchAll(.*)",name:"NotFound",component:()=>a.e("chunk-51e4be90").then(a.bind(null,"42ec"))}],fe=Object(K["a"])({history:Object(K["b"])("/football-league/"),routes:de});var ge=fe;const je=Object(n["c"])(J).use(ge);je.mount("#app")},"5fc3":function(e,t,a){"use strict";a("5525")},"6be2":function(e,t,a){},8527:function(e,t,a){},9684:function(e,t,a){"use strict";a("6be2")},c107:function(e,t,a){"use strict";a("8527")},f68d:function(e,t,a){"use strict";a("1185")}});
//# sourceMappingURL=app.b10cc39a.js.map